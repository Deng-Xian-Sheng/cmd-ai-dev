似乎有兼容性问题，你的修改没起作用。

目前它有以下问题：
- 模型对于需要长时间持续运行的命令，使用了`nohup command &`命令，但命令仍无法立即结束，而是等到超时才结束。
- 左右分终端中间仍缺少分隔线，视觉上看不出来分隔，你写的代码没起作用，我猜是兼容性问题。
- 右侧输入框里 Ctrl+Enter 不会发送，仍是换行，我猜是兼容性问题。ctrl+q、ctrl+t、ctrl+r没问题。
- 左侧中的文字无法选中，导致无法复制，希望能够选中。
- 左侧`<cmd></cmd>`会出现两次，第二次出现时，`</cmd>`的后面（不换行）会出现`timeout=60s`字符。期望不出现两次，而是一次。
- 我还想让左侧渲染markdown，我看过有人在终端中实现了渲染markdown，这不是bug是新增需求。因为模型会输出markdown，那么能渲染则最好啦。渲染markdown不要影响`<cmd></cmd>`以及`<cmdout></cmdout>`，或者不让它们呈现的效果更坏即可。
- 右侧输入中文的句号`。`会显示成一个点，类似于英文句号`.`，希望能显示中文标点符号，如果不能或实现了兼容性差代价高则算了。
- 右侧上方按钮稍微大了一点，要是小一点就好了，倒是影响不大。


我还想请你写一个shell函数，并`alias`为`cmd-ai-dev`，我放在宿主机的`~/.bashrc`中，当我执行`cmd-ai-dev`时，它会将当前目录或者传入的目录作为项目目录，然后它会根据容器名检查容器是否存在，容器名是`cmd-ai-dev-上级目录-项目目录`，项目目录会映射到容器的`/workspace`，如果容器存在，则进入容器并运行容器内的`cmd-ai-dev`，如果不存在则创建容器并运行容器内的`cmd-ai-dev`。
我需要填写api key、base url、模型名，你给我shell后，我会粘贴到`~/.bashrc`中并添加上这些内容。
我还需要容器是Host 网络模式，这有助于容器内外访问端口。