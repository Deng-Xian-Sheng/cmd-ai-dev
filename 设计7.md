# 操作浏览器

容器里安装谷歌浏览器、Xvfb + VNC/noVNC

通过Xvfb + VNC/noVNC实现有头浏览器+宿主机显示
宿主机显示方面，不需要VNC密码，在大模型提示词中让大模型告诉用户可以在宿主机上通过浏览器打开

在提示词中告诉大模型如何启动浏览器。我曾经使用过的命令是：
```
/var/lib/bin/google/chrome/google-chrome --remote-debugging-port=9222 --user-data-dir=./cdp-profile
```
这种命令启动的方式比用playwright启动更像真人
容器里的用户uid gid来自宿主机，一般不是root，如果是，则大模型需要加`--no-sandbox`

大模型使用python的playwright连接到浏览器并操作它

启动浏览器时可以加`--no-first-run --no-default-browser-check`以跳过向导

容器启动时需要设置`--shm-size`，防止谷歌浏览器启动不了

容器里应该有中文字体